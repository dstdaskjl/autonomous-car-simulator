#:set file_add_pressed 'add_pressed.jpg'
#:set file_add_released 'add_released.jpg'
#:set file_background_animation 'background_animation.zip'
#:set file_background_transparent 'background_transparent.png'
#:set file_confirm 'confirm.png'
#:set file_finish 'finish.png'
#:set file_font_bold 'Montserrat/Montserrat-Bold.ttf'
#:set file_font_medium 'Montserrat/Montserrat-Medium.ttf'
#:set file_font_semi_bold 'Montserrat/Montserrat-SemiBold.ttf'
#:set file_logo_horizontal 'logo_horizontal.png'
#:set file_metis 'metis.png'
#:set file_search_pressed 'search_pressed.jpg'
#:set file_search_released 'search_released.jpg'

#:set rgba_black (0, 0, 0, 1)
#:set rgba_blue (28/255, 154/255, 214/255, 1)
#:set rgba_dark_grey (154/255, 155/255, 156/255, 1)
#:set rgba_dim_grey (88/255, 89/255, 91/255, 1)
#:set rgba_green (42/255, 182/255, 115/255, 1)
#:set rgba_grey (188/255, 190/255, 192/255, 1)
#:set rgba_light_grey (230/255, 231/255, 232/255, 1)
#:set rgba_orange (247/255, 149/255, 32/255, 1)
#:set rgba_red (1, 0, 0, 1)
#:set rgba_transparent (0, 0, 0, 0)
#:set rgba_transparent_grey (251/255, 251/255, 251/255, 1)
#:set rgba_white (1, 1, 1, 1)

<Background@FloatLayout>:
    size_hint: 1, 1
    pos_hint: {'x': 0, 'y': 0}
    canvas.before:
        Color:
            rgba: rgba_white
        Rectangle:
            size: self.size
            pos: self.pos

<Arena@Widget>:
    size_hint: 0.8, 0.8
    pos_hint: {'x': 0.1, 'y': 0.1}
    canvas.after:
        Color:
            rgba: rgba_black
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height

<Maze@GridLayout>:
    rows: 10
    cols: 10
    size_hint: 0.8, 0.8
    pos_hint: {'x': 0.1, 'y': 0.1}

<Car>:
    angle: 0
    size_hint: 0.025, 0.025

    canvas.after:
        PushMatrix
        Rotate:
            angle: root.angle
            axis: 0, 0, 1
            origin: root.center
        Color:
            rgba: rgba_black
        Rectangle:
            pos: self.x + (self.width / 4), self.y + (self.height / 4)
            size: self.width / 1.2, self.height / 1.2

<Obstacle>:
    canvas:
        Color:
            rgba: self.color
        Rectangle:
            size: self.size
            pos: self.pos

<Simulator>:
    car: car
    arena: arena
    maze: maze

    Background:
        id: background

    Arena:
        id: arena

    Maze:
        id: maze

    Car:
        id: car
        center: root.center